##  GoBuster
Is a brute force attack that help find hidden directories and pages, it will take a list of potential page or directory names and tries accessing a website with each of them.

gobuster -e -u https://192.168.x.x -w /usr/share/wordlists/dirb/common.txt

-e print full URLs of discovered paths
-u website
-w directory for the wordlist

pages with status 200 are correct.

##  NMap

Port scanning tool.
-sT TCP
*   If we send an TCP request to an open port we have SYN > SYN,ACK  ACK.
*   If we send an TCP request to a close port we have SYN > RST(Reset).
Many firewalls are configured to drop incoming packets even if the port is open, so if we receive nothing back that's the case.

-sS SYN half open
Are used to scan the TCP port-range of a target or targets, SYN scans are sometimes referred to as Half open or Stealth.
TCP send back an RST instead an ACK at the end. This prevent the server from repeatedly trying to make the request.
*   SYN scans are often not logged by application listening on open ports.
SYN scans arefaster than a TCP scan.
*   They need sudo permissions to full work in linux, this because it requires to create ra packets.
*   Unstable services are sometimes brought down by SYN scans.

-sU UDP scans
UDP is a stateless connection, this means that when a packet is sent to an UDP port should not be any response. Nmap refers tot he port as being open|filtered, in other word the port is open but it could be firewalled. If it gets response the port is marked as open. 
When the port is closed nmap receive the unreachable message. For this usually are scanned only a close number of UDP ports using this
namp -sU --top-ports 20 <target>.

```
-sN TCP null
Are TCP requests with no flags set at all(no SYN flag so the next step will be an RST,ACK flag). The target should respond with RST if the port is closed.

-sF TCP FIN scans
This instead pf sending a completly empty packet, a request is sent with the FIN flag(ususally used to gracefully close an active connect). Nmap expect RST if the port is closed.

-sX TCP Xmas
This send an malformed packets(using PSH, URG and FIN flags) and expect an RST response for closed port.

The expected response for open ports with these 3 scans is identical and very similar to that of the UDP scan(open|filtered, closed, or filtered).
Windows and a lot of Cisco network devices are know to respond with a RST to any malformed TCP packet. 
This result in all ports showing up as being closed. 
These are used to bypass firewall security, by sending that not containt the SYN flag we bypass this kind of firewall.
```
# IP with actives hosts

We use the "ping sweep", nmap sends an ICMP packet to each possible IP for the specified network.
```nmap -sn 192.168.0.1-254 / nmap -sn 192.168.0.0/24```
The -sN tells to don't scan for ports, first rely on ICMP echo packets(ARP on a local network if run with sudo or directly as the root user). This also cause nmap to send an TCP SYN packet to port 443 of the target as well as a TCP ACK(or TCP SYN if no as root) packet to port 80 of the target.

#   Nmap Script Engine(NSE)

Nmap scripts are written in the Lua language.
    safe: don't affect the target
    intrusive: likely affect the target
    vuln: scan for vulnerabilities
    exploit: attempt to exploit a vulnerability
    auth: bypass authentication for running services
    brute: bruteforce credentials
    discovery: query running services for futher information about the network.
All script are [here](https://nmap.org/book/nse-usage.html).


To run one of thsÂ¡ose script we use --script=<script-name>.
Can be used multiply scripts at once 
```--script=smb-enum-users,smb-enum-shares```.
There script that need credentials, like the http-put(upload files using the put method)
```nmap -p 80 --script http-put --script-args http-put.url='/dav/shell.php',http-put.file='./shell.php'```.
Nmap has also help manus accessible usin 
```nmap --script-help "script-name"```.

The machine stores all script in */usr/share/nmap/scripts*. 
It is possible to serach for words like
```grep "ftp" /ser/share/nmap/scripts/scripts.db```
```ls -l /usr/share/nmap/scripts/*ftp*```
```grep "safe" /usr/share/nmap/scripts/script.db```.

If we want to install scripts not already presents, we can download from the web using ```sudo wget -O /usr/share/nmap/scripts/<script-name>.nse https://svn.nmap.org/nmap/scripts/<script-name>.nse``` and than update the table using ```nmap --script-updatedb```.